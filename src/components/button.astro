---
interface Props {
	url: string
	size: 'sm' | 'md' | 'lg'
	id?: string
}

const { url, size, id } = Astro.props

const classAnchor = `
	group relative isolate rounded
	${size === 'sm' ? 'px-2 py-1' : ''}
	${size === 'md' ? 'px-3 py-2' : ''}
	${size === 'lg' ? 'px-4 py-3' : ''}
	flex flex-col gap-3 border border-transparent hover:cursor-pointer hover:border-blue-300 transition-all duration-200 hover:shadow-sm
`

const patternId = id ? `pattern-${id}` : `pattern-${url}`
---

<a href={url} class={classAnchor}>
	<!-- SVG Dot Pattern Background (visible on hover) - matches header -->
	<svg
		class="pointer-events-none absolute inset-0 size-full select-none text-blue-300 -z-10 invisible opacity-30 group-hover:visible rounded"
		aria-hidden="true"
	>
		<defs>
			<pattern id={`${patternId}`} width="4" height="4" patternUnits="userSpaceOnUse">
				<circle cx="0" cy="0" r="1.5" fill="currentColor"></circle>
			</pattern>
		</defs>
		<rect width="100%" height="100%" fill={`url(#${patternId})`}></rect>
	</svg>

	<div class="flex flex-col gap-2 lg:flex-row lg:items-center lg:gap-4">
		<slot />
	</div>
</a>
